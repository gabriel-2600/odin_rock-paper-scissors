<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Rock, Paper, Scissors vs Computer</h1>
    <h3>First to 5 wins!</h3>

    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissors">scissors</button>

    <div id="result-div"></div>

    <script>
      function getComputerChoice() {
        let computerChoice = Math.floor(Math.random() * 100) + 1;

        if (computerChoice >= 66) {
          return "rock";
        } else if (computerChoice <= 33) {
          return "paper";
        } else {
          return "scissors";
        }
      }

      function playGame() {
        let humanScore = 0;
        let computerScore = 0;

        const resultDiv = document.querySelector("#result-div");

        const winnerParagraph = document.createElement("p");
        resultDiv.appendChild(winnerParagraph);

        const score = document.createElement("p");
        resultDiv.appendChild(score);

        const rockBtn = document.querySelector("#rock");
        rockBtn.addEventListener("click", () => {
          playRound("rock", getComputerChoice());
        });

        const paperBtn = document.querySelector("#paper");
        paperBtn.addEventListener("click", () => {
          playRound("paper", getComputerChoice());
        });

        const scissorsBtn = document.querySelector("#scissors");
        scissorsBtn.addEventListener("click", () => {
          playRound("scissors", getComputerChoice());
        });

        function playRound(humanChoice, computerChoice) {
          if (humanChoice === computerChoice) {
            winnerParagraph.textContent =
              humanChoice + " to " + computerChoice + " is draw.";
          } else if (humanChoice === "rock" && computerChoice === "scissors") {
            humanScore++;

            winnerParagraph.textContent =
              humanChoice +
              " beats " +
              computerChoice +
              ", human wins the round!!";
          } else if (humanChoice === "paper" && computerChoice === "rock") {
            humanScore++;

            winnerParagraph.textContent =
              humanChoice +
              " beats " +
              computerChoice +
              ", human wins the round!";
          } else if (humanChoice === "scissors" && computerChoice === "paper") {
            humanScore++;

            winnerParagraph.textContent =
              humanChoice +
              " beats " +
              computerChoice +
              ", human wins the round!!";
          } else {
            computerScore++;

            winnerParagraph.textContent =
              computerChoice +
              " beats " +
              humanChoice +
              ", computer wins the round!";
          }

          score.textContent = `Human: ${humanScore} || Computer: ${computerScore}`;

          if (humanScore === 5) {
            humanScore = 0;
            computerScore = 0;

            winnerParagraph.textContent = "Human wins the game!";
          } else if (computerScore === 5) {
            humanScore = 0;
            computerScore = 0;

            winnerParagraph.textContent = "Computer wins the game!";
          }
        }
      }

      playGame();
    </script>
  </body>
</html>
